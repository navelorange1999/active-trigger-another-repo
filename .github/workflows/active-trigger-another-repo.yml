name: Proactively trigger another repo of github action

on: workflow_dispatch

jobs:
  demo:
    runs-on: ubuntu-latest
    steps:
      - run: |
          curl \
            -X POST \
            -H 'Authorization: token ${{secrets.REPO_ACCESS_TOKEN}}' \
            -H 'Accept: application/vnd.github.everest-preview+json' \
            https://api.github.com/repos/navelorange1999/passive-github-action/dispatches \
            -d '{"event_type":"trigger-another-repo","client_payload":{"repository": "${{github.repository}}", "job":"${{ github.job }}", "ref":"${{ github.ref }}"}}'